// Jest Snapshot v1, https://goo.gl/fbAQLP

exports[`default transpiler 1`] = `
"\\"use strict\\";

var M = require(\\"../../api\\");

var $module = M.module(\\"/test/__fixtures__/code.js\\", module),
    v_1 = [{
  mod: \\"mod\\",
  v0: \\"v0\\",
  C: \\"C\\"
}, null],
    v_4 = [{
  fn1: \\"fn1\\",
  v5: \\"v5\\"
}, v_1],
    v_2 = [{
  a: \\"a\\",
  v3: \\"v3\\",
  i: \\"i1\\",
  v4: \\"v4\\",
  v1: \\"v1\\",
  e: \\"e\\"
}, v_1],
    v_3 = [{
  a: \\"a\\",
  v3: \\"v3\\",
  i: \\"i1\\",
  v4: \\"v4\\",
  v1: \\"v1\\",
  e: \\"e\\",
  v2: \\"v2\\"
}, v_1],
    meta$f = M.meta($module, function (x) {
  return function (module, exports) {
    var ctx = M.frame(x, this, new.target),
        p;
    ctx.$.C = meta$C(ctx);
    ctx.$.module = module;
    ctx.$.exports = exports;
    {
      try {
        ctx.state = 5;
        M.brk(0);
        return f_1(ctx, p);
      } catch (e) {
        if (e !== M.token || ctx.next) throw e;
      }
    }
  };
}, f_1, void 0, void 0, [[[{}, null], null, \\"1:0-1:31\\"], [v_1, null, \\"3:0-3:12\\"], [v_1, null, \\"21:0-24:2\\"]], null, \\"1:0-25:0\\", null),
    meta$fn1 = M.meta($module, function (x) {
  return function fn1() {
    var _fn1 = M.frame(x, this, new.target),
        p;

    try {
      _fn1.state = 5;
      M.brk(0);
      return fn1_1(_fn1, p);
    } catch (e) {
      if (e !== M.token || _fn1.next) throw e;
    }
  };
}, fn1_1, void 0, void 0, [[v_4, null, \\"22:2-22:16\\"], [v_4, null, \\"23:2-23:55\\"]], \\"fn1\\", \\"21:14-24:1\\", meta$f),
    meta$C = M.meta($module, function (x) {
  return function _C(a) {
    var C = M.frame(x, this, new.target),
        p;
    C.$.a = a;

    try {
      C.state = 5;
      M.brk(0);
      return C_1(C, p);
    } catch (e) {
      if (e !== M.token || C.next) throw e;
    }
  };
}, C_1, C_err, C_fin, [[v_2, null, \\"6:2-6:14\\"], [v_2, null, \\"7:2-18:3\\"], [v_3, null, \\"8:4-8:18\\"], [v_3, null, \\"9:4-9:11\\"], [v_3, null, \\"10:4-10:42\\"], [v_3, null, \\"11:4-13:5\\"], [[{
  a: \\"a\\",
  v3: \\"v3\\",
  i: \\"i\\",
  v4: \\"v4\\",
  v1: \\"v1\\",
  e: \\"e\\",
  v2: \\"v2\\"
}, v_1], null, \\"12:6-12:19\\"], [v_3, null, \\"14:4-14:42\\"], [v_3, null, \\"14:29-14:42\\"], [v_3, null, \\"15:4-15:17\\"], [v_2, null, \\"17:4-17:24\\"]], \\"C\\", \\"5:0-19:1\\", meta$f);
module.exports = M.wrapExport(meta$f(null));

function C_err(s) {
  switch (s) {
    case 6:
    case 7:
    case 8:
    case 9:
    case 10:
    case 11:
    case 12:
    case 16:
    case 17:
    case 21:
    case 22:
      return 27;

    case 13:
    case 14:
      return 28;

    case 15:
      return 30;

    case 18:
    case 19:
      return 31;

    case 20:
      return 33;

    default:
      return 1;
  }
}

function C_fin(s) {
  switch (s) {
    case 13:
    case 14:
      return 29;

    case 18:
    case 19:
      return 32;

    default:
      return 0;
  }
}

function C_1(C, p) {
  for (;;) {
    switch (C.state) {
      case 5:
        C.$.v1 = 10;
        C.state = 6;
        M.brk(1);
        continue;

      case 6:
        C.state = 7;
        M.brk(2);
        continue;

      case 7:
        C.$.v2 = 11;
        C.state = 8;
        M.brk(3);
        continue;

      case 8:
        C.state = 9;
        M.brk(4);
        continue;

      case 9:
        C.state = 10;
        p = C.$$.$.mod.fn1(C.$.a);
        continue;

      case 10:
        C.state = 11;
        C.$$.$.mod.proc1(p, C.$$.$.v0, C.$.v1, C.$.v2, C.$.v3);
        continue;

      case 11:
        C.state = 12;
        M.brk(5);
        continue;

      case 12:
        C.$.loop = M.iterator(something);
        C.state = 13;
        continue;

      case 13:
        if (!(C.$.i2 = C.$.loop.next()).done) {
          C.$.i = C.$.i2.value;
          C.state = 14;
          M.brk(6);
          continue;
        } else {
          C.$.fc = 16;
          C.state = 15;
          continue;
        }

      case 14:
        C.state = 13;
        C.$$.$.mod.proc2(C.$.i);
        continue;

      case 15:
        if (C.$.loop.return) {
          C.$.loop.return();
        }

        C.$.ex = C.$.err1;
        C.state = C.$.fc;
        continue;

      case 16:
        C.state = 17;
        M.brk(7);
        continue;

      case 17:
        C.$.loop1 = M.iterator(something);
        C.state = 18;
        continue;

      case 18:
        if (!(C.$.i3 = C.$.loop1.next()).done) {
          C.$.i1 = C.$.i3.value;
          C.state = 19;
          M.brk(8);
          continue;
        } else {
          C.$.fc1 = 21;
          C.state = 20;
          continue;
        }

      case 19:
        C.state = 18;
        C.$$.$.mod.proc3(C.$.i1);
        continue;

      case 20:
        if (C.$.loop1.return) {
          C.$.loop1.return();
        }

        C.$.ex = C.$.err2;
        C.state = C.$.fc1;
        continue;

      case 21:
        C.state = 22;
        M.brk(9);
        continue;

      case 22:
        C.$.v4 = 100;
        C.state = 25;
        continue;

      case 23:
        C.$.e = C.$.ex;
        C.state = 24;
        M.brk(10);
        continue;

      case 24:
        C.state = 25;
        C.$$.$.mod.proc4(C.$.e, C.$.v4, C.$.i1);
        continue;

      case 25:
        return M.pure();

      case 0:
        return M.pure(p);

      case 1:
        C.state = 0;
        throw p;

      case 26:
        C.state = 0;
        p = C.$.r;
        continue;

      case 27:
        C.$.ex = p;
        C.state = 23;
        continue;

      case 28:
        C.$.fc = 23, C.$.err1 = p;
        C.state = 15;
        continue;

      case 29:
        C.$.fc = 26, C.$.r = p;
        C.state = 15;
        continue;

      case 30:
        C.$.ex = p;
        C.state = 23;
        continue;

      case 31:
        C.$.fc1 = 23, C.$.err2 = p;
        C.state = 20;
        continue;

      case 32:
        C.$.fc1 = 26, C.$.r = p;
        C.state = 20;
        continue;

      case 33:
        C.$.ex = p;
        C.state = 23;
        continue;

      default:
        throw new Error(\\"invalid state\\");
    }
  }
}

function fn1_1(_fn1, p) {
  var a;

  for (;;) {
    switch (_fn1.state) {
      case 5:
        _fn1.$.v5 = 10;
        _fn1.state = 6;
        M.brk(1);
        continue;

      case 6:
        _fn1.state = 7;
        p = _fn1.$$.$.mod.f2();
        continue;

      case 7:
        _fn1.$._ = p;
        a = _fn1.$$.$.C;
        _fn1.state = 8;
        p = new a(_fn1.$$.$.v0, _fn1.$.v5);
        continue;

      case 8:
        _fn1.state = 9;
        p = _fn1.$$.$.mod.some({
          a: _fn1.$._,
          b: [p]
        });
        continue;

      case 9:
        return M.pure(p);

      case 0:
        return M.pure(p);

      case 1:
        _fn1.state = 0;
        throw p;

      default:
        throw new Error(\\"invalid state\\");
    }
  }
}

function f_1(ctx, p) {
  var a;

  for (;;) {
    switch (ctx.state) {
      case 5:
        a = require(\\"mod\\");
        ctx.state = 6;
        p = M.unwrapImport(a, \\"mod\\");
        continue;

      case 6:
        ({
          mod: ctx.$.mod
        } = p);
        ctx.state = 7;
        M.brk(1);
        continue;

      case 7:
        ctx.$.v0 = 10;
        ctx.state = 8;
        M.brk(2);
        continue;

      case 8:
        ctx.$.exports.fn2 = meta$fn1(ctx);
        return M.pure();

      case 0:
        return M.pure(p);

      case 1:
        ctx.state = 0;
        throw p;

      default:
        throw new Error(\\"invalid state\\");
    }
  }
}"
`;

exports[`default transpiler 2`] = `
"\\"use strict\\";

var M = require(\\"../../api\\");

var $module = M.module(\\"/test/__fixtures__/mod1.js\\", module),
    v_1 = [{
  j: \\"j\\",
  run: \\"run\\"
}, null],
    v_2 = [{
  i: \\"i\\"
}, v_1],
    meta$f = M.meta($module, function (x) {
  return function (module, exports) {
    var ctx = M.frame(x, this, new.target),
        p;
    ctx.$.run = meta$run(ctx);
    ctx.$.module = module;
    ctx.$.exports = exports;
    {
      try {
        ctx.$.exports.__esModule = true;
        ctx.$.exports.run = ctx.$.run;
        ctx.state = 5;
        M.brk(0);
        return f_1(ctx, p);
      } catch (e) {
        if (e !== M.token || ctx.next) throw e;
      }
    }
  };
}, f_1, void 0, void 0, [[[{}, null], null, \\"1:0-1:29\\"], [v_1, null, \\"3:0-3:10\\"], [v_1, null, \\"12:0-12:6\\"], [v_1, null, \\"13:0-13:6\\"]], null, \\"1:0-14:0\\", null),
    meta$run = M.meta($module, function (x) {
  return function _run(i = 1) {
    var run = M.frame(x, this, new.target),
        p;
    run.$.i = i;

    try {
      run.state = 5;
      M.brk(0);
      return run_1(run, p);
    } catch (e) {
      if (e !== M.token || run.next) throw e;
    }
  };
}, run_1, void 0, void 0, [[v_2, null, \\"6:2-6:9\\"], [v_2, null, \\"7:2-7:23\\"], [v_2, null, \\"8:2-8:9\\"], [v_2, null, \\"9:2-9:31\\"]], \\"run\\", \\"5:7-10:1\\", meta$f);
module.exports = M.wrapExport(meta$f(null));

function run_1(run, p) {
  var a;

  for (;;) {
    switch (run.state) {
      case 5:
        run.$$.$.j += run.$.i;
        run.state = 6;
        M.brk(1);
        continue;

      case 6:
        a = run.$.i++;
        run.state = 7;
        p = run.$$.$.M2.f1(a);
        continue;

      case 7:
        run.state = 8;
        run.$$.$.M2.f2(p, run.$.i);
        continue;

      case 8:
        run.state = 9;
        M.brk(2);
        continue;

      case 9:
        run.$$.$.j += run.$.i;
        run.state = 10;
        M.brk(3);
        continue;

      case 10:
        run.state = 11;
        console.log(\`i:\${run.$.i},j:\${run.$$.$.j}\`);
        continue;

      case 11:
        return M.pure();

      case 0:
        return M.pure(p);

      case 1:
        run.state = 0;
        throw p;

      default:
        throw new Error(\\"invalid state\\");
    }
  }
}

function f_1(ctx, p) {
  var a;

  for (;;) {
    switch (ctx.state) {
      case 5:
        a = require(\\"./mod2\\");
        ctx.state = 6;
        p = M.unwrapImport(a, \\"./mod2\\");
        continue;

      case 6:
        ctx.$.M2 = p;
        ctx.state = 7;
        M.brk(1);
        continue;

      case 7:
        ctx.$.j = 0;
        ctx.state = 8;
        M.brk(2);
        continue;

      case 8:
        ctx.state = 9;
        ctx.$.run();
        continue;

      case 9:
        ctx.state = 10;
        M.brk(3);
        continue;

      case 10:
        ctx.state = 11;
        ctx.$.run();
        continue;

      case 11:
        return M.pure();

      case 0:
        return M.pure(p);

      case 1:
        ctx.state = 0;
        throw p;

      default:
        throw new Error(\\"invalid state\\");
    }
  }
}"
`;

exports[`default transpiler 3`] = `
"\\"use strict\\";

var M = require(\\"../../api\\");

var $module = M.module(\\"/test/__fixtures__/mod2.js\\", module),
    v_1 = [{
  cnt: \\"cnt\\",
  A: \\"A\\",
  B: \\"B\\",
  f1: \\"f1\\",
  f2: \\"f2\\"
}, null],
    v_5 = [{
  i: \\"i\\"
}, v_1],
    v_4 = [{
  i: \\"i\\",
  a: \\"a\\"
}, v_1],
    v_3 = [{
  i: \\"i\\"
}, v_1],
    v_2 = [{
  i: \\"i\\"
}, v_1],
    meta$f = M.meta($module, function (x) {
  return function (module, exports) {
    var ctx = M.frame(x, this, new.target),
        p;
    ctx.$.A = meta$A(ctx);
    ctx.$.B = meta$B(ctx);
    ctx.$.f1 = meta$f1(ctx);
    ctx.$.f2 = meta$f2(ctx);
    ctx.$.module = module;
    ctx.$.exports = exports;
    {
      try {
        ctx.$.exports.__esModule = true;
        ctx.$.exports.f1 = ctx.$.f1;
        ctx.$.exports.f2 = ctx.$.f2;
        ctx.state = 5;
        M.brk(0);
        return f_1(ctx, p);
      } catch (e) {
        if (e !== M.token || ctx.next) throw e;
      }
    }
  };
}, f_1, void 0, void 0, [[[{}, null], null, \\"1:0-1:12\\"]], null, \\"1:0-25:0\\", null),
    meta$f2 = M.meta($module, function (x) {
  return function _f2(i) {
    var f2 = M.frame(x, this, new.target),
        p;
    f2.$.i = i;

    try {
      f2.state = 5;
      M.brk(0);
      return f2_1(f2, p);
    } catch (e) {
      if (e !== M.token || f2.next) throw e;
    }
  };
}, f2_1, void 0, void 0, [[v_5, null, \\"22:2-22:8\\"], [v_5, null, \\"23:2-23:32\\"]], \\"f2\\", \\"21:7-24:1\\", meta$f),
    meta$f1 = M.meta($module, function (x) {
  return function _f1(i) {
    var f1 = M.frame(x, this, new.target),
        p;
    f1.$.i = i;

    try {
      f1.state = 5;
      M.brk(0);
      return f1_1(f1, p);
    } catch (e) {
      if (e !== M.token || f1.next) throw e;
    }
  };
}, f1_1, void 0, void 0, [[v_4, null, \\"14:2-14:8\\"], [v_4, null, \\"15:2-15:32\\"], [v_4, null, \\"16:2-16:23\\"], [v_4, null, \\"17:2-17:23\\"], [v_4, null, \\"18:2-18:13\\"]], \\"f1\\", \\"13:7-19:1\\", meta$f),
    meta$B = M.meta($module, function (x) {
  return function _B(i) {
    var B = M.frame(x, this, new.target),
        p;
    B.$._this = this;
    B.$.i = i;

    try {
      B.state = 5;
      M.brk(0);
      return B_1(B, p);
    } catch (e) {
      if (e !== M.token || B.next) throw e;
    }
  };
}, B_1, void 0, void 0, [[v_3, null, \\"9:2-9:13\\"], [v_3, null, \\"10:2-10:26\\"]], \\"B\\", \\"8:0-11:1\\", meta$f),
    meta$A = M.meta($module, function (x) {
  return function _A(i) {
    var A = M.frame(x, this, new.target),
        p;
    A.$._this = this;
    A.$.i = i;

    try {
      A.state = 5;
      M.brk(0);
      return A_1(A, p);
    } catch (e) {
      if (e !== M.token || A.next) throw e;
    }
  };
}, A_1, void 0, void 0, [[v_2, null, \\"4:2-4:24\\"], [v_2, null, \\"5:2-5:22\\"]], \\"A\\", \\"3:0-6:1\\", meta$f);
module.exports = M.wrapExport(meta$f(null));

function A_1(A, p) {
  var a;

  for (;;) {
    switch (A.state) {
      case 5:
        A.$._this.i = A.$.i * 10 + A.$$.$.cnt;
        A.state = 6;
        M.brk(1);
        continue;

      case 6:
        a = A.$$.$.B;
        A.state = 7;
        p = new a(100);
        continue;

      case 7:
        A.$._this.b = p;
        return M.pure();

      case 0:
        return M.pure(p);

      case 1:
        A.state = 0;
        throw p;

      default:
        throw new Error(\\"invalid state\\");
    }
  }
}

function B_1(B, p) {
  for (;;) {
    switch (B.state) {
      case 5:
        B.$._this.i = B.$.i;
        B.state = 6;
        M.brk(1);
        continue;

      case 6:
        return M.pure({
          b: B.$._this,
          cnt: B.$$.$.cnt
        });

      case 0:
        return M.pure(p);

      case 1:
        B.state = 0;
        throw p;

      default:
        throw new Error(\\"invalid state\\");
    }
  }
}

function f1_1(f1, p) {
  var a, b;

  for (;;) {
    switch (f1.state) {
      case 5:
        f1.$$.$.cnt++;
        f1.state = 6;
        M.brk(1);
        continue;

      case 6:
        f1.state = 7;
        console.log(\`f1:\${f1.$.i}@\${f1.$$.$.cnt}\`);
        continue;

      case 7:
        f1.state = 8;
        M.brk(2);
        continue;

      case 8:
        a = f1.$$.$.A;
        b = f1.$$.$.cnt;
        f1.state = 9;
        p = new a(b);
        continue;

      case 9:
        f1.$.a = p;
        f1.state = 10;
        M.brk(3);
        continue;

      case 10:
        f1.state = 11;
        console.log(\\"A:\\", f1.$.a);
        continue;

      case 11:
        f1.state = 12;
        M.brk(4);
        continue;

      case 12:
        return M.pure(f1.$$.$.cnt);

      case 0:
        return M.pure(p);

      case 1:
        f1.state = 0;
        throw p;

      default:
        throw new Error(\\"invalid state\\");
    }
  }
}

function f2_1(f2, p) {
  for (;;) {
    switch (f2.state) {
      case 5:
        f2.$$.$.cnt++;
        f2.state = 6;
        M.brk(1);
        continue;

      case 6:
        f2.state = 7;
        console.log(\`f2:\${f2.$.i}@\${f2.$$.$.cnt}\`);
        continue;

      case 7:
        return M.pure();

      case 0:
        return M.pure(p);

      case 1:
        f2.state = 0;
        throw p;

      default:
        throw new Error(\\"invalid state\\");
    }
  }
}

function f_1(ctx, p) {
  switch (ctx.state) {
    case 5:
      ctx.$.cnt = 0;
      return M.pure();

    case 0:
      return M.pure(p);

    case 1:
      ctx.state = 0;
      throw p;

    default:
      throw new Error(\\"invalid state\\");
  }
}"
`;
